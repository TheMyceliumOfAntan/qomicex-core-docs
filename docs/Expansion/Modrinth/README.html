<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Modrinth 资源管理 | Qomicex.Core API文档 </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Modrinth 资源管理 | Qomicex.Core API文档 ">
      
      
      <link rel="icon" href="../../../favicon.ico">
      <link rel="stylesheet" href="../../../public/docfx.min.css">
      <link rel="stylesheet" href="../../../public/main.css">
      <meta name="docfx:navrel" content="../../../toc.html">
      <meta name="docfx:tocrel" content="../../toc.html">
      
      <meta name="docfx:rel" content="../../../">
      
      
      <meta name="docfx:docurl" content="https://github.com/TheMyceliumOfAntan/Qomicex.Avalonia/blob/main/Qomicex.Docs/docs/Expansion/Modrinth/README.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../../../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../../../index.html">
            <img id="logo" class="svg" src="../../../logo.svg" alt="Qomicex.Core">
            Qomicex.Core
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="modrinth-资源管理">Modrinth 资源管理</h1>

<h2 id="功能概述">功能概述</h2>
<p>Modrinth 模块提供了对 Modrinth 资源平台的完整访问支持，包括资源搜索、获取详情、下载等功能。Modrinth 是一个开源的 Minecraft 资源平台，专注于现代 Mod 生态系统。</p>
<h2 id="支持的资源类型">支持的资源类型</h2>
<h3 id="mods">Mods</h3>
<p>Mods 是最常见的资源类型，增强或修改 Minecraft 的功能。</p>
<pre><code class="lang-csharp">using Qomicex.Core.Modules.Helpers.Resources.Expansion.Modrinth;

var modrinthMods = new Mods();
</code></pre>
<h3 id="modpacks">Modpacks</h3>
<p>Modpacks 是预配置的模组组合，提供完整的游戏体验。</p>
<pre><code class="lang-csharp">using Qomicex.Core.Modules.Helpers.Resources.Expansion.Modrinth;

var modrinthModpacks = new ModPacks();
</code></pre>
<h3 id="resourcepacks">ResourcePacks</h3>
<p>ResourcePacks 改变游戏的视觉效果，包括材质、纹理等。</p>
<pre><code class="lang-csharp">using Qomicex.Core.Modules.Helpers.Resources.Expansion.Modrinth;

var modrinthResourcePacks = new ResourcePacks();
</code></pre>
<h3 id="datapacks">DataPacks</h3>
<p>DataPacks 改变游戏规则和行为，包括合成配方、进度系统等。</p>
<pre><code class="lang-csharp">using Qomicex.Core.Modules.Helpers.Resources.Expansion.Modrinth;

var modrinthDataPacks = new DataPacks();
</code></pre>
<h3 id="shaders">Shaders</h3>
<p>Shaders 增强游戏的图形效果，包括光照、阴影等。</p>
<pre><code class="lang-csharp">using Qomicex.Core.Modules.Helpers.Resources.Expansion.Modrinth;

var modrinthShaders = new Shaders();
</code></pre>
<h3 id="worlds">Worlds</h3>
<p>Worlds 提供自定义游戏世界，包括生存地图、冒险地图等。</p>
<pre><code class="lang-csharp">using Qomicex.Core.Modules.Helpers.Resources.Expansion.Modrinth;

var modrinthWorlds = new Worlds();
</code></pre>
<h2 id="资源搜索">资源搜索</h2>
<h3 id="基础搜索">基础搜索</h3>
<pre><code class="lang-csharp">using Qomicex.Core.Modules.Helpers.Resources.Expansion.Modrinth;

var modrinthMods = new Mods();
var searchResults = await modrinthMods.SearchAsync(&quot;sodium&quot;);

foreach (var result in searchResults)
{
    Console.WriteLine($&quot;Mod 名称: {result.Name}&quot;);
    Console.WriteLine($&quot;作者: {string.Join(&quot;, &quot;, result.Authors)}&quot;);
    Console.WriteLine($&quot;下载次数: {result.DownloadCount}&quot;);
    Console.WriteLine($&quot;简介: {result.Summary}&quot;);
    Console.WriteLine();
}
</code></pre>
<h3 id="高级搜索">高级搜索</h3>
<pre><code class="lang-csharp">using Qomicex.Core.Modules.Helpers.Resources.Expansion.Modrinth;

var modrinthMods = new Mods();
var searchResults = await modrinthMods.SearchAsync(
    &quot;sodium&quot;,
    gameVersion: &quot;1.20.1&quot;,
    loaders: new[] { &quot;fabric&quot; },
    categories: new[] { &quot;optimization&quot; },
    index: Index.Popularity,
    page: 0,
    pageSize: 20
);
</code></pre>
<h2 id="资源详情获取">资源详情获取</h2>
<h3 id="获取资源详细信息">获取资源详细信息</h3>
<pre><code class="lang-csharp">using Qomicex.Core.Modules.Helpers.Resources.Expansion.Modrinth;

var modrinthMods = new Mods();
var modDetails = await modrinthMods.GetModDetailsAsync(&quot;AANobbMI&quot;);

Console.WriteLine($&quot;Mod 名称: {modDetails.Name}&quot;);
Console.WriteLine($&quot;作者: {string.Join(&quot;, &quot;, modDetails.Authors)}&quot;);
Console.WriteLine($&quot;描述: {modDetails.Description}&quot;);
Console.WriteLine($&quot;下载次数: {modDetails.DownloadCount}&quot;);
Console.WriteLine($&quot;最新版本: {modDetails.LatestVersion}&quot;);

// 获取所有版本
var versions = await modrinthMods.GetModVersionsAsync(&quot;AANobbMI&quot;);
Console.WriteLine($&quot;可用版本数量: {versions.Count}&quot;);
foreach (var version in versions.Take(5))
{
    Console.WriteLine($&quot;  - 版本: {version.Version} ({version.GameVersion})&quot;);
    Console.WriteLine($&quot;    文件大小: {version.FileSize} KB&quot;);
    Console.WriteLine($&quot;    下载链接: {version.DownloadUrl}&quot;);
}
</code></pre>
<h2 id="资源下载">资源下载</h2>
<h3 id="下载最新版本">下载最新版本</h3>
<pre><code class="lang-csharp">using Qomicex.Core.Modules.Helpers.Resources.Expansion.Modrinth;

var modrinthMods = new Mods();
string modId = &quot;AANobbMI&quot;; // Sodium 的 Modrinth ID

// 获取最新版本信息
var modDetails = await modrinthMods.GetModDetailsAsync(modId);
var latestVersion = modDetails.LatestVersion;

// 下载资源
string savePath = @&quot;C:\Downloads\Sodium-&quot; + latestVersion + &quot;.jar&quot;;
bool downloadSuccess = await modrinthMods.DownloadModAsync(modId, latestVersion, savePath);

if (downloadSuccess)
{
    Console.WriteLine($&quot;Mod 下载成功: {savePath}&quot;);
}
else
{
    Console.WriteLine(&quot;Mod 下载失败&quot;);
}
</code></pre>
<h3 id="下载特定版本">下载特定版本</h3>
<pre><code class="lang-csharp">using Qomicex.Core.Modules.Helpers.Resources.Expansion.Modrinth;

var modrinthMods = new Mods();
string modId = &quot;AANobbMI&quot;; // Sodium 的 Modrinth ID
string version = &quot;0.4.14&quot;;

string savePath = @&quot;C:\Downloads\Sodium-&quot; + version + &quot;.jar&quot;;
bool downloadSuccess = await modrinthMods.DownloadModAsync(modId, version, savePath);

if (downloadSuccess)
{
    Console.WriteLine($&quot;Mod 下载成功: {savePath}&quot;);
}
else
{
    Console.WriteLine(&quot;Mod 下载失败&quot;);
}
</code></pre>
<h2 id="依赖处理">依赖处理</h2>
<h3 id="解析和下载依赖">解析和下载依赖</h3>
<pre><code class="lang-csharp">using Qomicex.Core.Modules.Helpers.Resources.Expansion.Modrinth;

var modrinthMods = new Mods();
string modId = &quot;AANobbMI&quot;; // Sodium 的 Modrinth ID

// 获取 Mod 详情
var modDetails = await modrinthMods.GetModDetailsAsync(modId);

// 获取依赖列表
var dependencies = await modrinthMods.GetModDependenciesAsync(modId);

Console.WriteLine($&quot;{modId} 的依赖项:&quot;);
foreach (var dependency in dependencies)
{
    Console.WriteLine($&quot;  - {dependency.Name} (版本: {dependency.Version})&quot;);

    // 下载依赖项
    string savePath = $@&quot;C:\Downloads\{dependency.Name}-{dependency.Version}.jar&quot;;
    bool downloadSuccess = await modrinthMods.DownloadModAsync(dependency.Id, dependency.Version, savePath);

    if (downloadSuccess)
    {
        Console.WriteLine($&quot;    下载成功: {savePath}&quot;);
    }
    else
    {
        Console.WriteLine($&quot;    下载失败: {dependency.Name}&quot;);
    }
}
</code></pre>
<h2 id="配置选项">配置选项</h2>
<h3 id="设置自定义下载源">设置自定义下载源</h3>
<pre><code class="lang-csharp">using Qomicex.Core.Modules.Helpers.Resources.Expansion.Modrinth;

var modrinthMods = new Mods();

// 设置自定义下载源（可选）
modrinthMods.SetDownloadSource(&quot;https://your-custom-mirror.com/&quot;);

// 下载资源
await modrinthMods.DownloadModAsync(&quot;AANobbMI&quot;, &quot;0.4.14&quot;, @&quot;C:\Downloads\Sodium.jar&quot;);
</code></pre>
<h3 id="调整请求超时">调整请求超时</h3>
<pre><code class="lang-csharp">using Qomicex.Core.Modules.Helpers.Resources.Expansion.Modrinth;

var modrinthMods = new Mods();

// 调整请求超时（默认10秒）
modrinthMods.SetRequestTimeout(TimeSpan.FromSeconds(30));

// 搜索资源
var results = await modrinthMods.SearchAsync(&quot;sodium&quot;);
</code></pre>
<h2 id="错误处理">错误处理</h2>
<pre><code class="lang-csharp">using Qomicex.Core.Modules.Helpers.Resources.Expansion.Modrinth;

var modrinthMods = new Mods();

try
{
    var searchResults = await modrinthMods.SearchAsync(&quot;sodium&quot;);
    Console.WriteLine($&quot;找到 {searchResults.Count} 个结果&quot;);
}
catch (ApiException ex)
{
    Console.WriteLine($&quot;API 错误: {ex.Message}&quot;);
    Console.WriteLine($&quot;状态码: {ex.StatusCode}&quot;);
}
catch (RateLimitException ex)
{
    Console.WriteLine($&quot;请求限流: {ex.Message}&quot;);
    Console.WriteLine($&quot;重试时间: {ex.RetryAfter}&quot;);
}
catch (Exception ex)
{
    Console.WriteLine($&quot;错误: {ex.Message}&quot;);
}
</code></pre>
<h2 id="最佳实践">最佳实践</h2>
<ol>
<li><strong>API 调用频率</strong>：Modrinth API 有请求限制，建议实现适当的缓存</li>
<li><strong>错误处理</strong>：实现适当的错误处理和重试机制</li>
<li><strong>缓存策略</strong>：对搜索结果和资源信息实现缓存</li>
<li><strong>并发控制</strong>：对大量下载和搜索操作实现适当的并发控制</li>
<li><strong>资源版本管理</strong>：确保下载的资源与 Minecraft 版本兼容</li>
</ol>
<h2 id="资源元数据">资源元数据</h2>
<p>Modrinth 资源包含丰富的元数据：</p>
<pre><code class="lang-csharp">using Qomicex.Core.Modules.Helpers.Resources.Expansion.Modrinth;

var modrinthMods = new Mods();
var modDetails = await modrinthMods.GetModDetailsAsync(&quot;AANobbMI&quot;);

Console.WriteLine(&quot;资源元数据:&quot;);
Console.WriteLine($&quot;ID: {modDetails.Id}&quot;);
Console.WriteLine($&quot;Slug: {modDetails.Slug}&quot;);
Console.WriteLine($&quot;许可证: {modDetails.License}&quot;);
Console.WriteLine($&quot;项目主页: {modDetails.Homepage}&quot;);
Console.WriteLine($&quot;源代码: {modDetails.SourceCode}&quot;);
Console.WriteLine($&quot;问题追踪: {modDetails.IssueTracker}&quot;);
Console.WriteLine($&quot;Discord: {modDetails.Discord}&quot;);
Console.WriteLine($&quot;下载总数: {modDetails.DownloadCount}&quot;);
Console.WriteLine($&quot;创建时间: {modDetails.CreatedAt}&quot;);
Console.WriteLine($&quot;更新时间: {modDetails.UpdatedAt}&quot;);
Console.WriteLine($&quot;标签: {string.Join(&quot;, &quot;, modDetails.Tags)}&quot;);
</code></pre>
<h2 id="批量操作">批量操作</h2>
<h3 id="批量获取资源详情">批量获取资源详情</h3>
<pre><code class="lang-csharp">using Qomicex.Core.Modules.Helpers.Resources.Expansion.Modrinth;

var modrinthMods = new Mods();
var modIds = new[] { &quot;AANobbMI&quot;, &quot;P7dR8mSH&quot;, &quot;Mr4mRFp7&quot; }; // Sodium, Lithium, Phosphor

var modDetailsList = new List&lt;ModDetails&gt;();

foreach (var modId in modIds)
{
    try
    {
        var details = await modrinthMods.GetModDetailsAsync(modId);
        modDetailsList.Add(details);
    }
    catch (Exception ex)
    {
        Console.WriteLine($&quot;获取资源 {modId} 详情失败: {ex.Message}&quot;);
    }
}

// 处理结果
foreach (var details in modDetailsList)
{
    Console.WriteLine($&quot;资源: {details.Name}&quot;);
    Console.WriteLine($&quot;作者: {string.Join(&quot;, &quot;, details.Authors)}&quot;);
    Console.WriteLine($&quot;下载次数: {details.DownloadCount}&quot;);
    Console.WriteLine();
}
</code></pre>

</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/TheMyceliumOfAntan/Qomicex.Avalonia/blob/main/Qomicex.Docs/docs/Expansion/Modrinth/README.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          Qomicex.Avalonia
        </div>
      </div>
    </footer>
  </body>
</html>
