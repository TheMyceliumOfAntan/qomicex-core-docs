<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>LiteLoader Installer | Qomicex.Core API文档 </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="LiteLoader Installer | Qomicex.Core API文档 ">
      
      
      <link rel="icon" href="../../../../../favicon.ico">
      <link rel="stylesheet" href="../../../../../public/docfx.min.css">
      <link rel="stylesheet" href="../../../../../public/main.css">
      <meta name="docfx:navrel" content="../../../../../toc.html">
      <meta name="docfx:tocrel" content="../../../../../toc.html">
      
      <meta name="docfx:rel" content="../../../../../">
      
      
      <meta name="docfx:docurl" content="https://github.com/TheMyceliumOfAntan/Qomicex.Avalonia/blob/main/Qomicex.Docs/temp/docs-main/enUS/projbobcat/installers/liteloader.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../../../../../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../../../../../index.html">
            <img id="logo" class="svg" src="../../../../../logo.svg" alt="Qomicex.Core">
            Qomicex.Core
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">

      <div class="content">
        <div class="actionbar">

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="liteloader-installer">LiteLoader Installer</h1>

<p>[[toc]]</p>
<p>::: tip</p>
<p>Please note that ProjBobcat only implements the LiteLoader automated installation process. You still need to implement the search, download, and save process of the LiteLoader installation package yourself.</p>
<p>:::</p>
<p>::: warning</p>
<p>LiteLoader, as the early Minecraft mod system, has lacked maintenance and follow-up support for a long time.
Therefore, we may remove support for LiteLoader installation in future release.</p>
<p>:::</p>
<h2 id="resources">Resources</h2>
<ul>
<li><a href="https://dl.liteloader.com/versions/versions.json">LiteLoader Versions API</a></li>
<li><a href="https://bmclapidoc.bangbang93.com/">BMCLAPI Development documentation</a></li>
</ul>
<h2 id="get-liteloader-download-version-model">Get LiteLoader Download Version Model</h2>
<p>Because ProjBobcat's LiteLoader installer requires you to provide download information from the LiteLoader when initializing the installer.
Therefore, we will briefly describe here how to obtain this information based on a given MineCraft version.</p>
<p>::: info</p>
<p>In this example, we'll be using Minecraft 1.7.10 to show you how to get it.</p>
<p>:::</p>
<p>::: warning</p>
<p>Since LiteLoader officially does not provide public API documentation. Therefore, in this process, we need to use a third-party mirror source to complete data acquisition.
Here, we use <a href="https://bmclapidoc.bangbang93.com/">BMCLAPI</a> to obtain relevant version information.</p>
<p>:::</p>
<p>First, you need to send an <strong>HTTP GET</strong> request to <a href="https://bmclapi2.bangbang93.com/liteloader/list?mcversion=1.7.10">https://bmclapi2.bangbang93.com/liteloader/list?mcversion=[MC_VERSION]</a>.
Replace <code>[MC_VERSION]</code> with the Minecraft version you want to install. Here we will use 1.7.10 for demostration.</p>
<p>You will see something similar to the following returned:</p>
<pre><code class="lang-json">
{
  &quot;_id&quot;: &quot;59685511433f993503c1c879&quot;,
  &quot;mcversion&quot;: &quot;1.7.10&quot;,
  &quot;build&quot;: {
    &quot;tweakClass&quot;: &quot;com.mumfrey.liteloader.launch.LiteLoaderTweaker&quot;,
    &quot;libraries&quot;: [...],
    &quot;stream&quot;: &quot;RELEASE&quot;,
    &quot;file&quot;: &quot;liteloader-1.7.10.jar&quot;,
    &quot;version&quot;: &quot;1.7.10_04&quot;,
    &quot;md5&quot;: &quot;63ada46e033d0cb6782bada09ad5ca4e&quot;,
    &quot;timestamp&quot;: &quot;1414368553&quot;,
    &quot;srcJar&quot;: &quot;liteloader-1.7.10_04-mcpnames-sources.jar&quot;,
    &quot;mcpJar&quot;: &quot;liteloader-1.7.10_04-mcpnames.jar&quot;
  },
  &quot;hash&quot;: &quot;63ada46e033d0cb6782bada09ad5ca4e&quot;,
  &quot;type&quot;: &quot;RELEASE&quot;,
  &quot;version&quot;: &quot;1.7.10_04&quot;,
  &quot;__v&quot;: 0
}

</code></pre>
<p>BMCLAPI will return a JSON object, and deserializing the object into the ProjBobcat type is the <code>LiteLoaderDownloadVersionModel</code> we need.</p>
<h4 id="convert-json-return-to-projbobcat-type">Convert JSON return to ProjBobcat type</h4>
<p>If you are using <a href="https://www.newtonsoft.com/json">JSON.NET</a>(Newtonsoft.JSON) in your project.
You can use code similar to the following to convert the server response you get into the corresponding ProjBobcat type:</p>
<pre><code class="lang-c#">
// Requesting data from BMCLAPI (example, not actual code)
...
var responseJson = await res.Content.ReadAsStringAsync();

// Convert JSON response to ProjBobcat type // [!code focus]
var versionModel = JsonConvert.DeserializeObject&lt;LiteLoaderDownloadVersionModel&gt;(responseJson); // [!code focus]

</code></pre>
<p>This <strong>versionModel</strong> is the <code>LiteLoaderDownloadVersionMode</code> required by the Fabric installer.</p>
<h2 id="get-rawversionmodel">Get RawVersionModel</h2>
<p>When initializing the LiteLoader installer, the installer needs to use the raw JSON content of the MineCraft game version corresponding to the LiteLoader.
That is, the contents of the <code>[ROOT_PATH]/versions/[MC_VERSION]/[MC_VERSION].json</code> file.</p>
<p>If you have installed the original game corresponding to LiteLoader, you can get the <code>RawVersionModel</code> through the following code:</p>
<pre><code class="lang-c#">
// Get the path to the version JSON file
var jsonPath = GamePathHelper.GetGameJsonPath(rP, id);

// Read the contents of the file
var jsonContent = await File.ReadAllTextAsync(jsonPath);

// Convert JSON content to RawVersionModel
var baseVersionModel = JsonConvert.DeserializeObject&lt;RawVersionModel&gt;(jsonContent);

</code></pre>
<p>This <strong>baseVersionModel</strong> is the <code>RawVersionModel</code> required by the LiteLoader installer.</p>
<h2 id="initialize-the-installer">Initialize the installer</h2>
<p>The way to initialize the LiteLoader installer is very simple.
You need to initialize the installer using the <code>versionModel</code> and <code>baseVersionModel</code> obtained in the previous steps:</p>
<pre><code class="lang-c#">
var liteLoaderInstaller = new LiteLoaderInstaller
{
    InheritVersion = baseVersionModel,
    InheritsFrom = &quot;[MC_VERSION_OR_GAME_ID]&quot;,
    RootPath = &quot;[GAME_ROOT_PATH]&quot;,
    VersionModel = versionModel,
    CustomId = &quot;[CUSTOM_INSTALL_GAME_ID]&quot;
};

</code></pre>
<p>In the above code block, please replace these parameters according to your actual situation:</p>
<table>
<thead>
<tr>
<th style="text-align: center;">Project</th>
<th style="text-align: center;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">[GAME_ROOT_PATH]</td>
<td style="text-align: center;">The game root directory, usually the path to the <strong>.minecraft</strong> folder</td>
</tr>
<tr>
<td style="text-align: center;">[CUSTOM_INSTALL_GAME_ID]</td>
<td style="text-align: center;">Optional, customize the name of the game to be installed</td>
</tr>
<tr>
<td style="text-align: center;">[MC_VERSION_OR_GAME_ID]</td>
<td style="text-align: center;">The Minecraft original game version inherited by Forge, usually the game version. For example: 1.19.2</td>
</tr>
<tr>
<td style="text-align: center;">[VERSION_LOCATOR_INST]</td>
<td style="text-align: center;">Game version locator instance, that is, the <strong>VersionLocator</strong> attribute when initializing the game core</td>
</tr>
</tbody>
</table>
<h2 id="start-installation">start installation</h2>
<p>After you complete the initialization of the installer, you only need to call the installation method of the LiteLoader installer to complete the installation.</p>
<p>In an asynchronous context, use <strong>InstallTaskAsync</strong> to complete the installation:</p>
<pre><code class="lang-c#">
await liteLoaderInstaller.InstallTaskAsync();

</code></pre>
<p>In a sync context, use <strong>Install</strong> to complete the installation:</p>
<pre><code class="lang-c#">
liteLoaderInstaller.Install();

</code></pre>
<h2 id="report-installation-progress">Report installation progress</h2>
<p>In some cases, the LiteLoader installer may take several minutes to complete the installation.
Therefore, you may need to report the current progress of the installer to the user in real time.
To this end, the LiteLoader installer provides the <strong>StageChangedEventDelegate</strong> event to help you implement task reporting.
You simply need to register for the following event <strong>before starting the installation</strong>:</p>
<pre><code class="lang-c#">
liteLoaderInstaller.StageChangedEventDelegate += (_, args) =&gt; {
    ReportProgress(args.Progress, args.CurrentStage);
};

</code></pre>
<p>Among them, <strong>args.Progress</strong> indicates the current percentage progress of the installer. <strong>args.CurrentStage</strong> is a text description of the current progress of the installer.</p>

</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/TheMyceliumOfAntan/Qomicex.Avalonia/blob/main/Qomicex.Docs/temp/docs-main/enUS/projbobcat/installers/liteloader.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          Qomicex.Avalonia
        </div>
      </div>
    </footer>
  </body>
</html>
